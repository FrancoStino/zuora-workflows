name: zuora-workflows
recipe: laravel

config:
  php: '8.4'
  composer_version: '2'
  via: nginx
  webroot: public
  database: mariadb:11.4
  cache: redis
  xdebug: true

services:
  phpmyadmin:
    type: phpmyadmin
    hosts:
      - database

proxy:
  phpmyadmin:
    - phpmyadmin.zuora-workflows.lndo.site

events:
  post-start:
    - appserver: composer install

tooling:
  pint:
    service: appserver
    cmd: ./vendor/bin/pint
  test:
    service: appserver
    cmd: ./vendor/bin/phpunit
  tinker:
    service: appserver
    cmd: php artisan tinker
  artisan:
    service: appserver
    cmd: php artisan
