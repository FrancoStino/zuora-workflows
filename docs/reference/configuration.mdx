---
title: Configuration
description: Application configuration and environment variables
---

import { EnvConfigSection } from '@/components/env-config-section'
import { AppSettings } from '@/components/app-settings'
import { FilamentConfig } from '@/components/filament-config'
import { SecurityConfig } from '@/components/security-config'
import { PerformanceConfig } from '@/components/performance-config'
import { MaintenanceConfig } from '@/components/maintenance-config'
import { MonitoringConfig } from '@/components/monitoring-config'
import { NextSteps } from '@/components/next-steps'

# Configuration Reference

This document describes all configuration options for Zuora Workflow Manager.

## Environment Variables

<EnvConfigSection
  title="Application Configuration"
  env={[
    { name: 'APP_NAME', default: '"Zuora Workflows"', required: true, description: 'Application name' },
    { name: 'APP_ENV', default: 'local', required: true, options: ['local', 'production'], description: 'Environment' },
    { name: 'APP_KEY', default: 'Generated', required: true, description: 'Laravel application key (32-char base64)' },
    { name: 'APP_DEBUG', default: 'false', required: true, options: ['true', 'false'], description: 'Enable debug mode' },
    { name: 'APP_URL', default: '-', required: true, description: 'Application base URL' }
  ]}
/>

<Alert type="warning">
  <strong>Security:</strong> Always set <Code inline>APP_DEBUG=false</Code> in production environments.
</Alert>

<EnvConfigSection
  title="Database Configuration"
  env={[
    { name: 'DB_CONNECTION', default: 'mariadb', required: true, description: 'Database driver' },
    { name: 'DB_HOST', default: '127.0.0.1', required: true, description: 'Database host' },
    { name: 'DB_PORT', default: '3306', required: true, description: 'Database port' },
    { name: 'DB_DATABASE', default: 'laravel', required: true, description: 'Database name' },
    { name: 'DB_USERNAME', default: 'root', required: true, description: 'Database username' },
    { name: 'DB_PASSWORD', default: '-', required: true, description: 'Database password' }
  ]}
/>

<Alert type="info">
  <strong>Lando Configuration:</strong> When using Lando, database credentials are automatically configured. You don't need to set these manually.
</Alert>

<EnvConfigSection
  title="Queue Configuration"
  env={[
    { name: 'QUEUE_CONNECTION', default: 'database', required: false, options: ['database', 'redis', 'sync'], description: 'Queue driver' },
    { name: 'QUEUE_FAILED_DRIVER', default: 'database', required: false, options: ['database', 'redis'], description: 'Failed jobs storage' }
  ]}
/>

<DataTable
  columns={['Driver', 'Description']}
  rows={[
    ['database', 'Queue jobs in database table (recommended for development)'],
    ['redis', 'Queue jobs in Redis (recommended for production)'],
    ['sync', 'Execute jobs immediately (no background processing)']
  ]}
/>

<Alert type="info">
  <strong>Development Tip:</strong> Use <Code inline>QUEUE_CONNECTION=sync</Code> for easier debugging during development.
</Alert>

<EnvConfigSection
  title="Cache Configuration"
  env={[
    { name: 'CACHE_STORE', default: 'array', required: false, options: ['array', 'database', 'redis', 'file', 'null'], description: 'Cache driver' }
  ]}
/>

<DataTable
  columns={['Store', 'Description']}
  rows={[
    ['array', 'Cache persists only for single request (recommended for development)'],
    ['database', 'Persistent cache in database'],
    ['redis', 'Persistent cache in Redis (recommended for production)'],
    ['file', 'Persistent cache in filesystem'],
    ['null', 'Disable cache completely']
  ]}
/>

<EnvConfigSection
  title="Session Configuration"
  env={[
    { name: 'SESSION_DRIVER', default: 'file', required: false, options: ['file', 'database', 'redis'], description: 'Session storage' },
    { name: 'SESSION_LIFETIME', default: '120', required: false, description: 'Session lifetime (minutes)' }
  ]}
/>

<EnvConfigSection
  title="Redis Configuration"
  env={[
    { name: 'REDIS_CLIENT', default: 'phpredis', required: true, description: 'Redis client' },
    { name: 'REDIS_HOST', default: '127.0.0.1', required: true, description: 'Redis host' },
    { name: 'REDIS_PORT', default: '6379', required: true, description: 'Redis port' },
    { name: 'REDIS_PASSWORD', default: 'null', required: false, description: 'Redis password' }
  ]}
/>

<EnvConfigSection
  title="Logging Configuration"
  env={[
    { name: 'LOG_CHANNEL', default: 'stack', required: false, description: 'Default log channel' },
    { name: 'LOG_STACK', default: 'single', required: false, options: ['single', 'daily', 'stack'], description: 'Log channels' },
    { name: 'LOG_LEVEL', default: 'debug', required: false, options: ['emergency', 'alert', 'critical', 'error', 'warning', 'notice', 'info', 'debug'], description: 'Minimum log level' }
  ]}
/>

<EnvConfigSection
  title="Mail Configuration"
  env={[
    { name: 'MAIL_MAILER', default: 'log', required: false, description: 'Mail driver' },
    { name: 'MAIL_HOST', default: '127.0.0.1', required: false, description: 'SMTP host' },
    { name: 'MAIL_PORT', default: '2525', required: false, description: 'SMTP port' },
    { name: 'MAIL_USERNAME', default: 'null', required: false, description: 'SMTP username' },
    { name: 'MAIL_PASSWORD', default: 'null', required: false, description: 'SMTP password' },
    { name: 'MAIL_FROM_ADDRESS', default: '"hello@example.com"', required: false, description: 'Default from address' },
    { name: 'MAIL_FROM_NAME', default: '${APP_NAME}', required: false, description: 'Default from name' }
  ]}
/>

<EnvConfigSection
  title="OAuth Configuration"
  env={[
    { name: 'GOOGLE_CLIENT_ID', default: '-', required: false, description: 'Google OAuth client ID' },
    { name: 'GOOGLE_CLIENT_SECRET', default: '-', required: false, description: 'Google OAuth client secret' }
  ]}
/>

<Alert type="warning">
  <strong>Note:</strong> These variables are optional. OAuth credentials can also be configured via Settings UI with encryption.
</Alert>

<EnvConfigSection
  title="Debugbar Configuration"
  env={[
    { name: 'DEBUGBAR_ENABLED', default: 'false', required: false, description: 'Enable Laravel Debugbar' }
  ]}
/>

## Application Settings

<AppSettings
  title="General Settings"
  description="Settings are managed via Spatie Laravel Settings and stored in database. Access them via Settings â†’ General Settings in Filament admin panel (Super Admin only)."
  sections={[
    {
      name: 'Site Information',
      settings: [
        { name: 'Site Name', description: 'Application title displayed in UI (default: "Zuora Workflow")' },
        { name: 'Site Description', description: 'Application description' }
      ],
      location: 'Settings UI â†’ Site Information section'
    },
    {
      name: 'OAuth Configuration',
      settings: [
        { name: 'OAuth Enabled', description: 'Toggle Google OAuth login (default: false)' },
        { name: 'Allowed Domains', description: 'Comma-separated list of allowed email domains (e.g., example.com,company.org)' },
        { name: 'Google Client ID', description: 'OAuth client ID from Google Cloud Console' },
        { name: 'Google Client Secret', description: 'OAuth client secret from Google Cloud Console (encrypted)' }
      ],
      location: 'Settings UI â†’ OAuth Configuration section',
      security: 'Client secret is encrypted using EncryptedCastGoogleClientSecret and Laravel\'s Crypt facade'
    },
    {
      name: 'Application Configuration',
      settings: [
        { name: 'Admin Default Email', description: 'Default email for admin operations (default: admin@example.com)' }
      ],
      location: 'Settings UI â†’ Application Configuration section'
    },
    {
      name: 'Maintenance',
      settings: [
        { name: 'Maintenance Mode', description: 'Toggle site maintenance mode' }
      ],
      location: 'Settings UI â†’ Maintenance section',
      notes: ['All requests redirect to maintenance page', 'Admin panel remains accessible for admins', 'Background jobs continue processing']
    }
  ]}
/>

## Filament Configuration

<FilamentConfig
  panelConfig={{
    location: 'config/filament.php',
    settings: `{
  'theme' => [
    'dark_mode' => false,
    'panels' => [
      'default' => [
        'brand' => [
          'name' => env('APP_NAME', 'Zuora Workflow'),
          'logo' => resource_path('images/logo.svg'),
          'logoHeight' => '2.5rem',
        ],
      ],
    ],
  ]
}`
  }}
  customization={[
    'Dark mode toggle',
    'Brand name',
    'Logo and logo height',
    'Colors (via CSS)',
    'Fonts'
  ]}
  shieldConfig={{
    location: 'config/filament-shield.php',
    settings: `{
  'auth_provider_model' => \\App\\Models\\User::class,
  'auth_provider_guard' => 'web',
  'register_role_policy' => true,
  'enabled' => true,
}`
  }}
  shieldFeatures={[
    'Role management',
    'Permission management',
    'Policy generation',
    'Resource-based permissions'
  ]}
/>

## Settings Configuration

<CodeBlock
  title="Settings Configuration (config/settings.php)"
  code={`'repositories' => [
    'database' => [
        'type' => DatabaseSettingsRepository::class,
        'table' => 'settings',
    ],
    'redis' => [
        'type' => RedisSettingsRepository::class,
    ],
],
'cache' => [
    'enabled' => env('SETTINGS_CACHE_ENABLED', false),
    'ttl' => null,
],
'auto_discover_settings' => [
    app_path('Settings'),
],`}
  language="php"
/>

<DataTable
  columns={['Option', 'Description']}
  rows={[
    ['Database or Redis repository', 'Choose storage backend for settings'],
    ['Caching', 'Enable/disable caching (disabled by default)'],
    ['Auto-discovery', 'Automatically discover settings classes']
  ]}
/>

## Job Configuration

<CodeBlock
  title="Job Defaults (config/jobs.php)"
  code={`'retry_after' => 600, // 10 minutes
'queue' => 'default',`}
  language="php"
/>

<CodeBlock
  title="SyncCustomersJob Configuration"
  code={`public \$tries = 3;
public \$backoff = [60, 120, 180]; // Seconds
public \$queue = 'default';`}
  language="php"
/>

## Zuora Configuration

<Alert type="info">
  <strong>Note:</strong> Zuora credentials are stored per customer in database, not in environment variables.
</Alert>

<DataTable
  columns={['Field', 'Type', 'Description']}
  rows={[
    ['name', 'string', 'Customer/company name'],
    ['zuora_client_id', 'string', 'Zuora OAuth client ID'],
    ['zuora_client_secret', 'string', 'Zuora OAuth client secret (encrypted)'],
    ['zuora_base_url', 'string', 'Zuora API base URL']
  ]}
/>

<InfoCards
  cards={[
    { title: 'Production', description: 'https://rest.zuora.com' },
    { title: 'Sandbox', description: 'https://rest.test.zuora.com' },
    { title: 'Custom', description: 'Any valid Zuora endpoint' }
  ]}
/>

## Scheduler Configuration

<CodeBlock
  title="Scheduled Jobs (routes/console.php)"
  code={`// Automatic workflow sync
Schedule::command('app:sync-workflows --all')
    ->hourly()              // Every hour
    // ->everyThirtyMinutes()  // Every 30 minutes
    // ->everyFiveMinutes()    // Every 5 minutes
    // ->daily()               // Once per day
    ->name('sync-customer-workflows');`}
  language="php"
/>

<Alert type="info">
  <strong>Customization:</strong> Edit frequency method to change sync schedule.
</Alert>

## Security Configuration

<SecurityConfig
  encryption={{
    title: 'Encryption',
    items: [
      { name: 'Application Key', description: 'APP_KEY=base64:32-character-string', usage: ['Encrypt sensitive data at rest', 'Encrypt OAuth client secrets', 'Encrypt settings secrets', 'Sign session cookies'] },
      {
        name: 'Generate New Key',
        command: 'php artisan key:generate',
        language: 'bash'
      }
    ]
  }}
  hashing={{
    title: 'Password Hashing',
    config: `BCRYPT_ROUNDS=12`,
    usage: ['Hash user passwords', 'Verify passwords on login']
  }}
  session={{
    title: 'Session Security',
    config: `SESSION_ENCRYPT=false`,
    note: 'Session encryption is disabled by default. Enable with SESSION_ENCRYPT=true for additional security.'
  }}
/>

<Alert type="warning">
  <strong>Critical:</strong> Never commit APP_KEY to version control. If leaked, rotate key immediately.
</Alert>

## Performance Configuration

<PerformanceConfig
  cache={{
    title: 'Recommended Production Settings',
    env: `CACHE_STORE=redis
SETTINGS_CACHE_ENABLED=true`,
    benefits: ['Faster API responses', 'Reduced database queries', 'Improved Zuora token caching']
  }}
  queue={{
    title: 'Recommended Production Settings',
    env: `QUEUE_CONNECTION=redis`,
    benefits: ['Faster job processing', 'Better scalability', 'Redis persistence'],
    worker: 'php artisan queue:work --queue=default --sleep=3 --tries=3'
  }}
/>

## Development Configuration

<CodeBlock
  title="Recommended Development Settings"
  code={`APP_DEBUG=true
APP_ENV=local
CACHE_STORE=array
QUEUE_CONNECTION=database
DEBUGBAR_ENABLED=true
LOG_LEVEL=debug`}
  language="env"
/>

<DataTable
  columns={['Setting', 'Benefit']}
  rows={[
    ['APP_DEBUG=true', 'Detailed error messages'],
    ['CACHE_STORE=array', 'No persistent cache (fresh data)'],
    ['QUEUE_CONNECTION=database', 'Queue jobs in database (easier debugging)'],
    ['DEBUGBAR_ENABLED=true', 'Debugbar for profiling'],
    ['LOG_LEVEL=debug', 'Verbose logging']
  ]}
/>

<CodeBlock
  title="Testing Configuration"
  code={`APP_ENV=testing
APP_DEBUG=false
CACHE_DRIVER=array
QUEUE_CONNECTION=sync`}
  language="env"
/>

<DataTable
  columns={['Setting', 'Benefit']}
  rows={[
    ['APP_ENV=testing', 'Isolated test environment'],
    ['APP_DEBUG=false', 'Fast test execution'],
    ['CACHE_DRIVER=array', 'Clean state between tests'],
    ['QUEUE_CONNECTION=sync', 'Immediate job processing in tests']
  ]}
/>

## Maintenance Configuration

<MaintenanceConfig
  ui={{
    title: 'Enable via Settings',
    steps: [
      'Navigate to Settings â†’ General Settings',
      'Toggle Maintenance Mode on',
      'Click Save'
    ]
  }}
  cli={{
    title: 'Enable via CLI',
    commands: [
      { code: 'php artisan down', description: 'Enable maintenance mode' },
      { code: 'php artisan up', description: 'Disable maintenance mode' }
    ]
  }}
  options={[
    { code: 'php artisan down --allow=127.0.0.1', description: 'Allow specific IPs' },
    { code: 'php artisan down --message="Upgrading database"', description: 'Show maintenance message' },
    { code: 'php artisan down --redirect=/maintenance', description: 'Redirect to specific URL' }
  ]}
/>

## Lando Configuration

<CodeBlock
  title=".lando.yml"
  code={`recipe: laravel
config:
  php: '8.4'
  database: 'mariadb:11.4'
  cache: 'redis:7.0'
  webserver: 'nginx'`}
  language="yaml"
/>

<DataTable
  columns={['Service', 'Description']}
  rows={[
    ['appserver', 'PHP 8.4 with Nginx'],
    ['database', 'MariaDB 11.4'],
    ['cache', 'Redis 7.0']
  ]}
/>

<CodeBlock
  title="Custom Commands"
  code={`lando start          # Start all services
lando stop           # Stop all services
lando restart        # Restart all services
lando queue          # Start queue worker
lando schedule       # Start scheduler
lando test           # Run tests`}
  language="bash"
/>

## Monitoring Configuration

<MonitoringConfig
  logging={{
    title: 'Log Files',
    location: 'storage/logs/laravel.log',
    commands: [
      { name: 'Tail logs', code: 'tail -f storage/logs/laravel.log' },
      { name: 'Search errors', code: 'grep -i "error" storage/logs/laravel.log' },
      { name: 'With Lando', code: 'lando exec appserver tail -f storage/logs/laravel.log' }
    ]
  }}
  debugbar={{
    title: 'Debugbar',
    enable: 'DEBUGBAR_ENABLED=true',
    features: [
      'Query analysis',
      'Request profiling',
      'View data',
      'Timeline visualization',
      'Exception handling'
    ]
  }}
/>

<Alert type="warning">
  <strong>Performance Warning:</strong> Debugbar adds overhead. Always disable in production.
</Alert>

<NextSteps
  links={[
    { title: 'Getting Started Guide', href: '../guides/getting-started', description: 'Initial setup' },
    { title: 'Development Guide', href: '../guides/development', description: 'Development workflow' },
    { title: 'Deployment Guide', href: '../guides/deployment', description: 'Production deployment' }
  ]}
/>

## Related Documentation

<LinksGrid
  links={[
    { title: 'Laravel Configuration', url: 'https://laravel.com/docs/12.x/configuration', icon: 'ðŸ“š' },
    { title: 'Filament Configuration', url: 'https://filamentphp.com/docs/4.x/panels/configuration', icon: 'ðŸŽ¨' },
    { title: 'Environment Variables', url: 'https://laravel.com/docs/12.x/configuration#environment-configuration', icon: 'âš™ï¸' }
  ]}
/>
